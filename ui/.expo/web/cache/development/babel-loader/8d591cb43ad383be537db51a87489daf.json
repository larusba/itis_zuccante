{"ast":null,"code":"import { createStore, applyMiddleware, compose as composeWithoutDevTools } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport AppConfig from \"../../config/app-config\";\nimport RehydrationServices from \"../services/rehydration.service\";\nimport ReduxPersist from \"../../config/redux-persist\";\nimport WebsocketService from \"../websockets/websocket.service\";\nvar compose = AppConfig.debugMode ? composeWithDevTools : composeWithoutDevTools;\nexport default (function (rootReducer, rootSaga) {\n  var middleware = [];\n  var enhancers = [];\n  var sagaMonitor = null;\n  var sagaMiddleware = createSagaMiddleware({\n    sagaMonitor: sagaMonitor\n  });\n  middleware.push(sagaMiddleware);\n  var wsSagaMiddleware = createSagaMiddleware(WebsocketService.websocketSagas);\n  middleware.push(wsSagaMiddleware);\n  enhancers.push(applyMiddleware.apply(void 0, middleware));\n  var store = createStore(rootReducer, compose.apply(void 0, enhancers));\n  if (ReduxPersist.active) {\n    RehydrationServices.updateReducers(store);\n  }\n  var sagasManager = sagaMiddleware.run(rootSaga);\n  var websocketSagaManager = wsSagaMiddleware.run(WebsocketService.websocketSagas);\n  return {\n    store: store,\n    sagasManager: sagasManager,\n    websocketSagaManager: websocketSagaManager,\n    sagaMiddleware: sagaMiddleware\n  };\n});","map":{"version":3,"names":["createStore","applyMiddleware","compose","composeWithoutDevTools","createSagaMiddleware","composeWithDevTools","AppConfig","RehydrationServices","ReduxPersist","WebsocketService","debugMode","rootReducer","rootSaga","middleware","enhancers","sagaMonitor","sagaMiddleware","push","wsSagaMiddleware","websocketSagas","apply","store","active","updateReducers","sagasManager","run","websocketSagaManager"],"sources":["/Users/albertodelazzari/repositories/ambulanza_veloce/ui/app/shared/reducers/create-store.js"],"sourcesContent":["import { createStore, applyMiddleware, compose as composeWithoutDevTools } from 'redux';\nimport createSagaMiddleware from 'redux-saga'\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport AppConfig from '../../config/app-config';\nimport RehydrationServices from '../services/rehydration.service'\nimport ReduxPersist from '../../config/redux-persist'\nimport WebsocketService from '../websockets/websocket.service'\nconst compose = AppConfig.debugMode ? composeWithDevTools : composeWithoutDevTools;\n// creates the store\nexport default (rootReducer, rootSaga) => {\n  /* ------------- Redux Configuration ------------- */\n\n  const middleware = []\n  const enhancers = []\n\n  /* ------------- Saga Middleware ------------- */\n\n  const sagaMonitor = null;\n  const sagaMiddleware = createSagaMiddleware({ sagaMonitor })\n  middleware.push(sagaMiddleware)\n  const wsSagaMiddleware = createSagaMiddleware(WebsocketService.websocketSagas)\n  middleware.push(wsSagaMiddleware)\n\n  /* ------------- Assemble Middleware ------------- */\n\n  enhancers.push(applyMiddleware(...middleware))\n\n  const store = createStore(rootReducer, compose(...enhancers));\n\n  // configure persistStore and check reducer version number\n  if (ReduxPersist.active) {\n    RehydrationServices.updateReducers(store)\n  }\n\n  // kick off root saga\n  let sagasManager = sagaMiddleware.run(rootSaga)\n  let websocketSagaManager = wsSagaMiddleware.run(WebsocketService.websocketSagas)\n\n  return {\n    store,\n    sagasManager,\n    websocketSagaManager,\n    sagaMiddleware\n  }\n}\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,eAAe,EAAEC,OAAO,IAAIC,sBAAsB,QAAQ,OAAO;AACvF,OAAOC,oBAAoB,MAAM,YAAY;AAC7C,SAASC,mBAAmB,QAAQ,0BAA0B;AAE9D,OAAOC,SAAS;AAChB,OAAOC,mBAAmB;AAC1B,OAAOC,YAAY;AACnB,OAAOC,gBAAgB;AACvB,IAAMP,OAAO,GAAGI,SAAS,CAACI,SAAS,GAAGL,mBAAmB,GAAGF,sBAAsB;AAElF,gBAAe,UAACQ,WAAW,EAAEC,QAAQ,EAAK;EAGxC,IAAMC,UAAU,GAAG,EAAE;EACrB,IAAMC,SAAS,GAAG,EAAE;EAIpB,IAAMC,WAAW,GAAG,IAAI;EACxB,IAAMC,cAAc,GAAGZ,oBAAoB,CAAC;IAAEW,WAAW,EAAXA;EAAY,CAAC,CAAC;EAC5DF,UAAU,CAACI,IAAI,CAACD,cAAc,CAAC;EAC/B,IAAME,gBAAgB,GAAGd,oBAAoB,CAACK,gBAAgB,CAACU,cAAc,CAAC;EAC9EN,UAAU,CAACI,IAAI,CAACC,gBAAgB,CAAC;EAIjCJ,SAAS,CAACG,IAAI,CAAChB,eAAe,CAAAmB,KAAA,SAAIP,UAAU,CAAC,CAAC;EAE9C,IAAMQ,KAAK,GAAGrB,WAAW,CAACW,WAAW,EAAET,OAAO,CAAAkB,KAAA,SAAIN,SAAS,CAAC,CAAC;EAG7D,IAAIN,YAAY,CAACc,MAAM,EAAE;IACvBf,mBAAmB,CAACgB,cAAc,CAACF,KAAK,CAAC;EAC3C;EAGA,IAAIG,YAAY,GAAGR,cAAc,CAACS,GAAG,CAACb,QAAQ,CAAC;EAC/C,IAAIc,oBAAoB,GAAGR,gBAAgB,CAACO,GAAG,CAAChB,gBAAgB,CAACU,cAAc,CAAC;EAEhF,OAAO;IACLE,KAAK,EAALA,KAAK;IACLG,YAAY,EAAZA,YAAY;IACZE,oBAAoB,EAApBA,oBAAoB;IACpBV,cAAc,EAAdA;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}