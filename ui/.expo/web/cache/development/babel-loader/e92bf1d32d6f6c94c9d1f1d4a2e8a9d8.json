{"ast":null,"code":"import * as React from 'react';\nimport useDevToolsBase from \"./useDevToolsBase\";\nexport default function useReduxDevToolsExtension(ref) {\n  var devToolsRef = React.useRef();\n  if (devToolsRef.current === undefined && typeof __REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') {\n    devToolsRef.current = __REDUX_DEVTOOLS_EXTENSION__.connect({\n      name: '@react-navigation/devtools'\n    });\n  }\n  var _useDevToolsBase = useDevToolsBase(ref, function (result) {\n      var devTools = devToolsRef.current;\n      if (!devTools) {\n        return;\n      }\n      switch (result.type) {\n        case 'init':\n          devTools.init(result.state);\n          break;\n        case 'action':\n          devTools.send(result.action, result.state);\n          break;\n      }\n    }),\n    resetRoot = _useDevToolsBase.resetRoot;\n  React.useEffect(function () {\n    var _devToolsRef$current;\n    return (_devToolsRef$current = devToolsRef.current) === null || _devToolsRef$current === void 0 ? void 0 : _devToolsRef$current.subscribe(function (message) {\n      if (message.type === 'DISPATCH' && message.state) {\n        var state = JSON.parse(message.state);\n        resetRoot(state);\n      }\n    });\n  }, [resetRoot]);\n}","map":{"version":3,"names":["React","useDevToolsBase","useReduxDevToolsExtension","ref","devToolsRef","useRef","current","undefined","__REDUX_DEVTOOLS_EXTENSION__","connect","name","_useDevToolsBase","result","devTools","type","init","state","send","action","resetRoot","useEffect","_devToolsRef$current","subscribe","message","JSON","parse"],"sources":["useReduxDevToolsExtension.tsx"],"sourcesContent":["import type { NavigationContainerRef } from '@react-navigation/core';\nimport * as React from 'react';\n\nimport useDevToolsBase from './useDevToolsBase';\n\ntype DevToolsConnection = {\n  init(value: any): void;\n  send(action: any, value: any): void;\n  subscribe(\n    listener: (message: { type: string; [key: string]: any }) => void\n  ): () => void;\n};\n\ntype DevToolsExtension = {\n  connect(options: { name: string }): DevToolsConnection;\n  disconnect(): void;\n};\n\ndeclare const __REDUX_DEVTOOLS_EXTENSION__: DevToolsExtension | undefined;\n\nexport default function useReduxDevToolsExtension(\n  ref: React.RefObject<NavigationContainerRef<any>>\n) {\n  const devToolsRef = React.useRef<DevToolsConnection>();\n\n  if (\n    devToolsRef.current === undefined &&\n    typeof __REDUX_DEVTOOLS_EXTENSION__ !== 'undefined'\n  ) {\n    devToolsRef.current = __REDUX_DEVTOOLS_EXTENSION__.connect({\n      name: '@react-navigation/devtools',\n    });\n  }\n\n  const { resetRoot } = useDevToolsBase(ref, (result) => {\n    const devTools = devToolsRef.current;\n\n    if (!devTools) {\n      return;\n    }\n\n    switch (result.type) {\n      case 'init':\n        devTools.init(result.state);\n        break;\n      case 'action':\n        devTools.send(result.action, result.state);\n        break;\n    }\n  });\n\n  React.useEffect(\n    () =>\n      devToolsRef.current?.subscribe((message) => {\n        if (message.type === 'DISPATCH' && message.state) {\n          const state = JSON.parse(message.state);\n\n          resetRoot(state);\n        }\n      }),\n    [resetRoot]\n  );\n}\n"],"mappings":"AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAOC,eAAP;AAiBA,eAAe,SAASC,yBAATA,CACbC,GADa,EAEb;EACA,IAAMC,WAAW,GAAGJ,KAAK,CAACK,MAAN,EAApB;EAEA,IACED,WAAW,CAACE,OAAZ,KAAwBC,SAAxB,IACA,OAAOC,4BAAP,KAAwC,WAF1C,EAGE;IACAJ,WAAW,CAACE,OAAZ,GAAsBE,4BAA4B,CAACC,OAA7B,CAAqC;MACzDC,IAAI,EAAE;IADmD,CAArC,CAAtB;EAGD;EAED,IAAAC,gBAAA,GAAsBV,eAAe,CAACE,GAAD,EAAO,UAAAS,MAAD,EAAY;MACrD,IAAMC,QAAQ,GAAGT,WAAW,CAACE,OAA7B;MAEA,IAAI,CAACO,QAAL,EAAe;QACb;MACD;MAED,QAAQD,MAAM,CAACE,IAAf;QACE,KAAK,MAAL;UACED,QAAQ,CAACE,IAAT,CAAcH,MAAM,CAACI,KAArB;UACA;QACF,KAAK,QAAL;UACEH,QAAQ,CAACI,IAAT,CAAcL,MAAM,CAACM,MAArB,EAA6BN,MAAM,CAACI,KAApC;UACA;MANJ;IAQD,CAfoC,CAArC;IAAQG,SAAA,GAAAR,gBAAA,CAAAQ,SAAA;EAiBRnB,KAAK,CAACoB,SAAN,CACE;IAAA,IAAAC,oBAAA;IAAA,QAAAA,oBAAA,GACEjB,WAAW,CAACE,OADd,cAAAe,oBAAA,uBACEA,oBAAA,CAAqBC,SAArB,CAAgC,UAAAC,OAAD,EAAa;MAC1C,IAAIA,OAAO,CAACT,IAAR,KAAiB,UAAjB,IAA+BS,OAAO,CAACP,KAA3C,EAAkD;QAChD,IAAMA,KAAK,GAAGQ,IAAI,CAACC,KAAL,CAAWF,OAAO,CAACP,KAAnB,CAAd;QAEAG,SAAS,CAACH,KAAD,CAAT;MACD;IACF,CAND,CADF;EAAA,CADF,EASE,CAACG,SAAD,CATF;AAWD"},"metadata":{},"sourceType":"module"}